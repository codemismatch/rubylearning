#!/usr/bin/env ruby
# frozen_string_literal: true

begin
  require "bundler/setup"
rescue LoadError
  # Bundler is not available; continue without it
rescue Bundler::GemNotFound => e
  warn "Missing gem dependency: #{e.message}"
  warn "Install the missing gems with `bundle install`"
  warn "or by running `gem install` for each missing gem."
  exit 1
end

$LOAD_PATH.unshift(File.expand_path("../lib", __dir__))

require "typophic"

# If no arguments provided, default to serve with build/watch/livereload
argv = if ARGV.empty?
         ["serve", "--build", "--watch", "--livereload"]
       else
         ARGV
       end

Typophic::CLI.start(argv)
